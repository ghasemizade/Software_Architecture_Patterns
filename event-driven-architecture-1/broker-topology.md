# توپولوژی کارگزار



```
همانطور که از شکل 2-4 می بینید، توپولوژی کارگزار همه چیز در مورد آن است
زنجیره ای از رویدادها برای انجام یک عملکرد تجاری. بهترین راه برای
درک توپولوژی کارگزار این است که در مورد آن به عنوان یک مسابقه رله فکر کنید.
در مسابقه امدادی، دوندگان باتوم را در دست می گیرند و برای مسافت مشخصی می دوند.
سپس باتوم را به دونده بعدی تحویل دهید، و به همین ترتیب پایین
زنجیره بزنید تا آخرین دونده از خط پایان عبور کند. در مسابقات امدادی یک بار
یک دونده از باتوم دست می زند، او مسابقه را تمام کرده است. این هم هست
درست با توپولوژی کارگزار: یک بار یک پردازشگر رویداد دست می دهد
خارج از رویداد، دیگر درگیر پردازش آن گونه نیست.
رویداد Cific
```

```
برای نشان دادن اینکه توپولوژی بروکر چگونه کار می کند، از همان استفاده خواهیم کرد
به عنوان مثال در توپولوژی واسطه (یک شخص بیمه شده حرکت می کند).
از آنجایی که هیچ واسطه رویداد مرکزی برای دریافت رویداد اولیه وجود ندارد
توپولوژی کارگزار، جزء مشتری-فرایند را دریافت می کند
رویداد مستقیماً، آدرس مشتری را تغییر می‌دهد و رویدادی را ارسال می‌کند
گفتن اینکه آدرس مشتری را تغییر داده است (به عنوان مثال، تغییر رویداد آدرس).
در این مثال، دو پردازنده رویداد وجود دارد که به آنها علاقه مند هستند
رویداد تغییر آدرس: فرآیند نقل قول و فرآیند ادعاها.
جزء پردازشگر مظنه نرخ های جدید بیمه خودکار را بر اساس تغییر آدرس مجددا محاسبه می کند و یک رویداد را منتشر می کند.
به بقیه سیستم نشان می دهد که چه کاری انجام داده است (به عنوان مثال، نقل قول مجدد محاسبه شود
رویداد). از سوی دیگر، جزء پردازش ادعاها،
همان رویداد آدرس تغییر را دریافت می کند، اما در این مورد، an را به روز می کند
مطالبات بیمه معوق و انتشار یک رویداد به سیستم به عنوان
یک رویداد ادعای به روز رسانی این رویدادهای جدید سپس توسط دیگران انتخاب می شوند
اجزای پردازشگر رویداد، و زنجیره رویداد همچنان ادامه دارد
سیستم تا زمانی که هیچ رویداد دیگری برای آن قسمت منتشر نشود
رویداد آغازگر تیکولار
```

```
این توپولوژی در شکل 2-3 نشان داده شده است. همانطور که می بینید از
نمودار، هیچ مؤلفه میانجی رویداد مرکزی کنترل کننده ای وجود ندارد
و سازماندهی رویداد اولیه؛ بلکه هر رویداد-پردازنده
جزء مسئول پردازش یک رویداد و انتشار یک
رویداد جدید نشان‌دهنده عملکردی است که به تازگی انجام داده است. به عنوان مثال، یک
پردازشگر رویدادی که سبد سهام را متعادل می کند ممکن است یک
رویداد اولیه به نام تقسیم سهام. بر اساس آن رویداد اولیه، رویداد
پردازنده ممکن است مقداری توازن مجدد پورتفولیو انجام دهد و سپس a را منتشر کند
رویداد جدید به کارگزار به نام پرتفوی تعادل مجدد، که پس از آن
توسط یک پردازنده رویداد متفاوت انتخاب شود. توجه داشته باشید که ممکن است وجود داشته باشد
زمان هایی که یک رویداد توسط یک پردازشگر رویداد منتشر می شود اما نه
توسط هر پردازنده رویداد دیگری انتخاب می شود. این زمانی رایج است
شما در حال توسعه یک برنامه یا ارائه عملکردهای آینده هستید
و الحاقات
```

```
کانال های رویداد موجود در جزء کارگزار می توانند باشند
صف های پیام، موضوعات پیام یا ترکیبی از هر دو.
```

```
دو نوع اصلی از اجزای معماری در داخل وجود دارد
توپولوژی کارگزار: یک جزء کارگزار و یک پردازشگر رویداد
ننت جزء کارگزار می تواند متمرکز یا فدرال باشد و
شامل تمام کانال های رویدادی است که در جریان رویداد استفاده می شوند.
```

```
توپولوژی بروکر با توپولوژی واسطه تفاوت دارد
میانجی رویداد مرکزی وجود ندارد. بلکه جریان پیام ناپدید است
در سراسر اجزای پردازشگر رویداد به صورت زنجیره ای تقسیم می شود
مد از طریق یک واسطه پیام سبک وزن (به عنوان مثال، ActiveMQ،
هورنت کیو و غیره). این توپولوژی زمانی مفید است که شما یک نسبتا دارید
پردازش رویداد ساده جریان دارد و شما نمی خواهید (یا نیازی به) مرکزی داشته باشید
ارکستراسیون رویداد
```
